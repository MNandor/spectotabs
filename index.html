<body>


	<p id="piano">kkk</p>
	<table id="thetab">
	</table>
	<script>

		function highlight(it){
			ls = document.getElementsByClassName("highlightable")
			for (l of ls){
				// console.log(l.innerText)
				if (l.innerText == it.innerText){
					l.classList.add("highlit")
				} else {
					l.classList.remove("highlit")
				}
			}
			console.log(it.innerText)
		}



		as = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"]
		p = document.getElementById("piano")
		p.innerText=""
		for (let i = 2; i < 6; i++){
			for (it of as){
				span = document.createElement('span')
				span.className="highlightable"
				span.onclick = function(){ highlight(this) }
				span.innerText += it+i;
				p.appendChild(span)
			}
		}

		starts = ["E2", "A2", "D3", "G3", "B3", "E4"]
		starts.reverse()


		table = document.getElementById("thetab")
		tr = document.createElement("tr")
		for (let i=0; i<16; i++){
			span = document.createElement('th')
			span.innerText = ''+i
			tr.appendChild(span)
		}
		table.appendChild(tr)

		for (start of starts){
			let count = -1;
			tr = document.createElement("tr")
			loop1:
			for (let i = 2; i < 6; i++){
				for (it of as){
					if (it+i == start){
						count = 0;
					}
					if (count >= 0){
						span = document.createElement('td')
						span.className="highlightable"
						span.onclick = function(){ highlight(this) }
						span.innerText = it+i;
						tr.appendChild(span)
						count += 1
					}
					if (count > 15){
						break loop1;
					}
				}
			}
			table.appendChild(tr)
		}


				// highlight()

	</script>
<style>
span {
	margin-right: 8px;
}
td {
	padding-right: 16px;
}
.highlit{
	background-color: red;
}
</style>
</body>


